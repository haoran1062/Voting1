<!DOCTYPE html>
<html>
  <head>
    <title>投票 Dapp</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel='stylesheet' type='text/css'>
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
  </head>
  <body class='row'>
    <h1 class='text-center banner'>投票 Truffle Dapp</h1>
    <div class='container'>
      <div class="row margin-top-3">
        <div class="col-sm-12">
          <h3>如何使用</h3>
          <strong>第一步</strong>: 下载 <a href="https://metamask.io/" target="_blank">metamask plugin</a> 并创建账户存入eth.
          <br>
          <strong>第二步</strong>: 购买所需数量的token.
          <br>
          <strong>第三步</strong>: 输入投票人.
          <br>
          <strong>第四步</strong>: 输入你的地址去查询投票状态. 
          <br>
          <strong>*可选</strong>: 输入账户地址和选举人名称注册成为选举人. 
        </div>
      </div>
      <div class="row margin-top-3">
        <div class="col-sm-7">
          <h2>投票列表</h2>
          <div class="table-resopnsive">
            <table class="table table-bordered" id="candidate-table">
              <thead>
                <tr>
                  <th>Candidate</th>
                  <th>Votes</th>
                </tr>
              </thead>
              <tbody >

              </tbody>

            </table>
          </div>
        </div>
        <div class="col-sm-offset-1 col-sm-4">
          <h2>Tokens</h2>
          <div class="tab-responsive">
            <table class="table table-bordered">
              <tr>
                <th>Tokens Info</th>
                <th>Value</th>
              </tr>
              <tr>
                <td>在售</td>
                <td id="tokens-total"></td>
              </tr>
              <tr>
                <td>已卖出</td>
                <td id="tokens-sold"></td>
              </tr>
              <tr>
                <td>价格</td>
                <td id="tokens-cost"></td>
              </tr>
              <tr>
                <td>合约余额</td>
                <td id="contract-balance"></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <hr>
      <div class="row margin-bottom-3">
        <div class="col-sm-7 form">
          <h2>在这投票</h2>
            <div id="msg"></div>
            <input type="text" id="candidate" class="form-control" placeholder="输入投票人" />
            <br>
            <br>
            <input type="text" id="vote-tokens" class="form-control" placeholder="投入代币数量" />
            <br>
            <br>
            <a href="#" onclick="App.voteForCandidateFunction(); return false;" class="btn btn-primary">投票</a>
        </div>
        <div class="col-sm-offset-1 col-sm-4">
          <div class="col-sm-12 form">
            <h2>获取token</h2>
            <div id="buy-msg"></div>
            <input type="text" id="buy" class="col-sm-8" placeholder="购买token数量" />
            <a href="#" onclick="App.buyTokens(); return false;" class="btn btn-primary">购买</a>
          </div>

          <div class="col-sm-12 margin-top-3 form">
            <h2>查看投票人信息</h2>
            <input type="text" id="voter-info" class="col-sm-8" placeholder="输入投票人地址" />
            <a href="#" onclick="App.lookupVoterInfo(); return false;" class="btn btn-primary">查询</a>
            <div class="voter-details row text-left">
              <div id="tokens-bought" class="margin-top-3 col-md-12"></div>
              <div id="votes-cast" class="col-md-12"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="row margin-bottom-3">
        <div class="col-sm-7 form">
          <h2>注册成为选举人</h2>
            <div id="msg"></div>
            <input type="text" id="candidate-address" class="form-control" placeholder="输入地址 默认为当前登陆地址" />
            <br>
            <br>
            <input type="text" id="candidate-name" class="form-control" placeholder="输入选举人名称" />
            <br>
            <br>
            <a href="#" onclick="App.addCandidatePerson(); return false;" class="btn btn-primary">注册</a>
        </div>

        <div class="col-sm-offset-1 col-sm-4">
          <h2>当前账户</h2>
          <div class="tab-responsive">
            <table class="table table-bordered" id="account-table">
              <tr>
                <th>当前账户Tokens信息</th>
                <th>Value</th>
              </tr>
              <tr>
                <td>账户地址</td>
                <td id="user-address"></td>
              </tr>
              <tr>
                <td>已使用</td>
                <td id="user-tokens-used"></td>
              </tr>
              <tr>
                <td>未使用</td>
                <td id="user-tokens-unused"></td>
              </tr>
              <tr>
                <td>账户token总额</td>
                <td id="user-tokens-total"></td>
              </tr>
              <tr>
                <td>账户eth余额</td>
                <td id="user-ether-balance"></td>
              </tr>
              
            </table>
          </div>
        </div>
      </div>
    
    </div>    
    
  </body>
  <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
  <script src="index.js"></script>
</html>
